(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{479:function(a,t,s){"use strict";s.r(t);var e=s(62),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h3",{attrs:{id:"javascript-作用域分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javascript-作用域分类"}},[a._v("#")]),a._v(" Javascript 作用域分类")]),a._v(" "),s("p",[s("strong",[a._v("「全局作用域」")])]),a._v(" "),s("p",[a._v("每个执行环境只有一个全局作用域，浏览器是 "),s("code",[a._v("window")]),a._v("，node.js 为 "),s("code",[a._v("global")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("window.x = 1;\nglobal.x = 1;\n")])])]),s("p",[s("strong",[a._v("「函数作用域」")])]),a._v(" "),s("p",[a._v("每一个函数会单独创建函数作用域")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("function fn() {\n  let x = 1;\n}\n")])])]),s("p",[s("strong",[a._v("「块级作用域」")])]),a._v(" "),s("p",[a._v("ES6 中增加块级作用域，在 "),s("code",[a._v("{}")]),a._v(" 中以 "),s("code",[a._v("let、const")]),a._v(" 声明的变量存在块级作用域")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("{\n  let x = 1;\n}\n")])])]),s("p",[s("strong",[a._v("「中间作用域」")])]),a._v(" "),s("p",[a._v("ES6 中增加中间作用域，在 **「函数」"),s("strong",[a._v("且")]),a._v("「函数存在默认值」**时，函数的默认值即为中间作用域")]),a._v(" "),s("p",[a._v("请注意这个作用域，标准里并不含该作用域。如果想详细地了解该作用域，请点击[ES6: Default values of parameters](http://dmitrysoshnikov.com/ecmascript/es6-notes-default-values-of-parameters/#conditional-intermediate-scope-for-parameters 'ES6: Default values of parameters' \"ES6: Default values of parameters\")")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("function fn(x = 1) {\n  console.log(x); // 1，如果 x 无默认值，则是 undefined\n  var x = 2; // 不要用let、const去试哈，由于TDZ关系，会报错\n  console.log(x); // 2\n}\n")])])]),s("h3",{attrs:{id:"作用域嵌套"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#作用域嵌套"}},[a._v("#")]),a._v(" 作用域嵌套")]),a._v(" "),s("p",[a._v("当开始寻找变量时，从自身作用域开始，逐级向上查找，直到全局作用域")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("window.x = 1;\n\nfunction p() {\n  function c() {\n    x = 3;\n  }\n}\n")])])]),s("h3",{attrs:{id:"作用域提升"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#作用域提升"}},[a._v("#")]),a._v(" 作用域提升")]),a._v(" "),s("p",[a._v("上面提到了在 Javascript 执行前，存在编译过程（预解析），在此过程中会解析**「函数声明」"),s("strong",[a._v("、")]),a._v("「变量声明」**。")]),a._v(" "),s("p",[a._v("对于变量声明来说，是将 "),s("em",[a._v("定义声明")]),a._v(" 和 "),s("em",[a._v("赋值声明")]),a._v(" 分开的")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("var a = 1;\n\n// 可以翻页为\nvar a; // 定义声明\na = 1; // 赋值声明\n")])])]),s("p",[s("strong",[a._v("「优先顺序」")]),a._v("：函数声明提升**「优先于」**变量声明")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("console.log(fn); // Function\nfunction fn(params) {}\nvar fn = 2;\n")])])]),s("h3",{attrs:{id:"tdz"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tdz"}},[a._v("#")]),a._v(" TDZ")]),a._v(" "),s("p",[s("strong",[a._v("「TDZ（Time Dead Zone）」")]),a._v(" 在 ES6 中，对 "),s("code",[a._v("let、const")]),a._v(" 声明时，TDZ 使无法在 "),s("code",[a._v("let、const")]),a._v(" 赋值语句前访问该变量。")]),a._v(" "),s("h3",{attrs:{id:"闭包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#闭包"}},[a._v("#")]),a._v(" 闭包")]),a._v(" "),s("p",[s("strong",[a._v("「闭包」")]),a._v(" 函数可以记住、并访问原作用域，即使不在原作用域运行（在非原作用域的地方，但可以访问原作用域变量的功能）")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("function p() {\n  const a = 1;\n  return function c() {\n    console.log(a);\n  };\n}\n\nconst c = p();\nc(); // 此时c处于全局作用域，但任然可以访问变量a\n\n// [[Scopes]]; 可以打印下 p.prototype，里面存在 [[ Scopes ]] 属性，可以查看作用域\n")])])]),s("h4",{attrs:{id:"iife-立即调用函数表达式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#iife-立即调用函数表达式"}},[a._v("#")]),a._v(" IIFE（立即调用函数表达式）")]),a._v(" "),s("p",[a._v("IIFE ("),s("strong",[a._v("Immediately Invoked Function Expression")]),a._v(")，对于自执行函数，按照闭包的定义，其实 IIFE 严格来说不属于闭包，"),s("em",[a._v("因为在 IIFE 函数中，并")]),a._v("*「不是在当前作用域以外的地方执行的」***")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("(function () {\n  let x = 1;\n})(); // 它就是在当前作用域执行的，而不是在外部作用域执行的\n")])])]),s("p",[a._v("https://juejin.cn/post/6844904206109769736")])])}),[],!1,null,null,null);t.default=n.exports}}]);