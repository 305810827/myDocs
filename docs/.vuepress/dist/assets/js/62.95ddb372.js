(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{486:function(t,a,e){"use strict";e.r(a);var n=e(62),s=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"try-catch-能捕获到哪些-js-异常"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#try-catch-能捕获到哪些-js-异常"}},[t._v("#")]),t._v(" try catch 能捕获到哪些 JS 异常")]),t._v(" "),e("p",[t._v("js线程执行进入了try catch，并在try catch未执行完前，抛出的异常都可以被捕获。")]),t._v(" "),e("p",[t._v("未定义变量")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("try {\n\ta.b\n} catch(e) {\n\tconsole.log(e)\n}\n")])])]),e("p",[t._v("js线程执行进入了try catch，发现a未定义，所以报错，此时满足条件，异常能被捕获。")]),t._v(" "),e("h1",{attrs:{id:"抛出的异常未能捕获的情况"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#抛出的异常未能捕获的情况"}},[t._v("#")]),t._v(" 抛出的异常未能捕获的情况")]),t._v(" "),e("p",[t._v("1、语法错误")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("console.log(.)属于语法错误，在语法检查阶段就报错了，此时js线程执行还未进入try catch就抛出了异常。")]),t._v(" "),e("p",[t._v("2、异步任务")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("try{\n  setTimeout(()=>{\n     console.log(a.b); \n  }, 100)\n}catch(e){\n  console.log('error',e);\n}\nUncaught ReferenceError: a is not defined\n")])])]),e("p",[t._v("try catch执行完毕之后，才开始执行setTimeout里的函数，异常不能被捕获")]),t._v(" "),e("p",[t._v("3、在 try catch 外执行")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('try{\n   function d(){a.b;}\n}catch(e){\n   console.log("error",e);\n}\nd();\nUncaught ReferenceError: a is not defined\n')])])]),e("p",[t._v("方法定义在 try catch 代码块里面，但是执行方法在 try catch 外，在执行 d 方法的时候报错，此时 try catch 已经执行完成，111 都已经被执行了，故而无法捕捉异常。")]),t._v(" "),e("p",[t._v("4、promise")]),t._v(" "),e("p",[t._v("promise调用then和catch方法，内部报错被try catch了，报错不再上抛，所以在promise上try catch是无效的，无法捕获内部异常")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("try{\n    new Promise(function (resolve, reject) {\n        a.b;\n    }).then(v=>{\n        console.log(v);\n    });\n}catch(e){\n    console.log('error',e);\n}\n// output\nUncaught (in promise) ReferenceError: a is not defined\n")])])]),e("p",[t._v("正确：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("try{\n    await new Promise(function (resolve, reject) {\n        a.b;\n    }).then(v=>{\n        console.log(v);\n    });;\n}catch(e){\n    console.log('error',e);\n}\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("try{\n    new Promise(function (resolve, reject) {\n        a.b;\n    }).then(v=>{\n        console.log(v);\n    }).catch(e => {\n        console.log(e,'error')\n    });\n}catch(e){\n    console.log('error',e);\n}v\n")])])]),e("p",[t._v("https://zhuanlan.zhihu.com/p/142932660")])])}),[],!1,null,null,null);a.default=s.exports}}]);